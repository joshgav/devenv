apiVersion: loki.grafana.com/v1
kind: LokiStack
metadata:
  name: logging-loki
  namespace: openshift-logging
spec:
  size: 1x.medium
  storage:
    schemas:
    - version: v12
      effectiveDate: "2022-06-01"
    secret:
      name: logging-loki-s3
      type: s3
    tls:
      # CA is the name of a ConfigMap containing a CA certificate.
      # It needs to be in the same namespace as the LokiStack custom resource.
      caName: tenant-1-tls
      # Key is the data key of a ConfigMap containing a CA certificate.
      # It needs to be in the same namespace as the LokiStack custom resource.
      # If empty, it defaults to “service-ca.crt”.
      caKey: service-ca.crt
  storageClassName: gp3-csi
  tenants:
    mode: openshift-logging
  rules:
    enabled: false
  limits:
    global:
      retention:
        days: 3